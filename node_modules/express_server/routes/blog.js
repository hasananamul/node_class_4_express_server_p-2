

var express = require('express');
var router = express.Router();

/* GET blog page */
router.get('/', function(req, res, next) {
	res.render('blog', { title: 'Express' });
});

module.exports = router;

/*
 * POST subscribe an email to a list.
 */

exports.subscribe = function(req, res){
  mc.lists.subscribe({id: req.params.id, email:{email:req.body.email}, double_optin: false}, function(data) {
			  // output message
				res.json({status: 1, message:'You have been signed up!'});
    },
    function(error) {
      if (error.error) {
					res.json({status: 0, message: error.code + ': ' + error.error});
      } else {
					res.json({status: 0, message: 'Error Occured! Try Again.'});
      }
    });
};


